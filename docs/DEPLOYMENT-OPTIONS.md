# ××¤×©×¨×•×™×•×ª ×¤×¨×™×¡×” - Deployment Options

## ğŸ¯ ××™×–×• ××¤×©×¨×•×ª ××ª××™××” ×œ×š?

### ×× ××ª×” ×¨×•×¦×”:
- âœ… **×©×™××•×© ×¤×¨×˜×™ ×œ×’×"×— ××—×“** â†’ Self-Hosted (××¤×©×¨×•×ª 1 ××• 2)
- âœ… **×œ××›×•×¨ ×œ××¡×¤×¨ ×’×"×—×™×** â†’ Multi-Tenant (××¤×©×¨×•×ª 3)
- âœ… **×œ×”×ª×—×™×œ ×‘×–×•×œ** â†’ Supabase + Railway (××¤×©×¨×•×ª 1)
- âœ… **×—×™× × ×œ×—×œ×•×˜×™×Ÿ** â†’ ××—×©×‘ ×‘×™×ª×™ + Cloudflare (××¤×©×¨×•×ª 2)

---

## ğŸš€ ××¤×©×¨×•×ª 1: Supabase + Railway (××•××œ×¥ ×œ××ª×—×™×œ×™×)

### ××” ×–×”?
- **Supabase:** PostgreSQL ×× ×•×”×œ (×—×™× × ×¢×“ 500MB)
- **Railway:** Backend Node.js (×—×™× × ×¢×“ $5/×—×•×“×©)
- **Vercel:** Frontend React (×—×™× × ×œ×—×œ×•×˜×™×Ÿ)

### ×¢×œ×•×ª
- **×—×™× ×** ×¢×“ 500MB × ×ª×•× ×™×
- ××—×¨ ×›×š: ~â‚ª50-150/×—×•×“×©

### ×©×œ×‘×™ ×”×ª×§× ×”

#### 1. ×”×§××ª Supabase (2 ×“×§×•×ª)
1. ×”×™×›× ×¡ ×œ-https://supabase.com
2. ×¦×•×¨ ×¤×¨×•×™×§×˜ ×—×“×©
3. ×”×¢×ª×§ ××ª `DATABASE_URL` ××”×”×’×“×¨×•×ª
4. ×–×”×•! ×™×© ×œ×š PostgreSQL

#### 2. ×”×§××ª Railway (5 ×“×§×•×ª)
1. ×”×™×›× ×¡ ×œ-https://railway.app
2. ×—×‘×¨ ××ª GitHub repository ×©×œ×š
3. ×‘×—×¨ ××ª ×ª×™×§×™×™×ª `backend`
4. ×”×•×¡×£ ××©×ª× ×™ ×¡×‘×™×‘×”:
   ```
   DATABASE_URL=<×-Supabase>
   JWT_SECRET=<××¤×ª×—-××§×¨××™-×—×–×§>
   FRONTEND_URL=https://your-app.vercel.app
   ```
5. Deploy!

#### 3. ×”×§××ª Vercel (2 ×“×§×•×ª)
1. ×”×™×›× ×¡ ×œ-https://vercel.com
2. ×—×‘×¨ ××ª GitHub repository
3. ×”×•×¡×£ ××©×ª× ×”:
   ```
   VITE_API_URL=https://your-backend.railway.app
   ```
4. Deploy!

### ×™×ª×¨×•× ×•×ª
âœ… ×¤×©×•×˜ ×××•×“
âœ… ×–×•×œ/×—×™× ×
âœ… ×’×™×‘×•×™×™× ××•×˜×•××˜×™×™×
âœ… SSL ×—×™× ×
âœ… ×¢×“×›×•× ×™× ××•×˜×•××˜×™×™× ×-GitHub

### ×—×¡×¨×•× ×•×ª
âŒ ×ª×œ×•×™ ×‘×©×™×¨×•×ª×™× ×—×™×¦×•× ×™×™×
âŒ ××•×’×‘×œ ×‘-500MB (×‘×—×™× ×)

---

## ğŸ’» ××¤×©×¨×•×ª 2: ××—×©×‘ ×‘×™×ª×™ + Cloudflare Tunnel (×—×™× ×!)

### ××” ×–×”?
- **PostgreSQL:** ×¢×œ ×”××—×©×‘ ×©×œ×š
- **Backend:** ×¢×œ ×”××—×©×‘ ×©×œ×š
- **Cloudflare Tunnel:** × ×•×ª×Ÿ ×’×™×©×” ××”××™× ×˜×¨× ×˜ (×—×™× ×!)

### ×¢×œ×•×ª
**â‚ª0 ×œ×—×œ×•×˜×™×Ÿ!**

### ×©×œ×‘×™ ×”×ª×§× ×”

#### 1. ×”×ª×§×Ÿ PostgreSQL (Windows)
```bash
# ×”×•×¨×“ ×:
https://www.postgresql.org/download/windows/

# ××• ×¢× Chocolatey:
choco install postgresql
```

#### 2. ×”×¨×¥ ××ª Backend
```bash
cd backend
npm install
npm run prisma:migrate
npm run dev
```

#### 3. ×”×ª×§×Ÿ Cloudflare Tunnel
```bash
# ×”×•×¨×“ cloudflared:
https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/install-and-setup/installation/

# ×”×ª×—×‘×¨:
cloudflared tunnel login

# ×¦×•×¨ tunnel:
cloudflared tunnel create gemach-backend

# ×”×¨×¥:
cloudflared tunnel --url http://localhost:3000
```

#### 4. Frontend
××¤×©×¨ ×œ×”×¨×™×¥ ×’× ××§×•××™ ××• ×¢×œ Vercel (×—×™× ×)

### ×™×ª×¨×•× ×•×ª
âœ… ×—×™× × ×œ×—×œ×•×˜×™×Ÿ
âœ… ×©×œ×™×˜×” ××œ××”
âœ… ××™×Ÿ ×”×’×‘×œ×ª × ×ª×•× ×™×
âœ… ×¤×¨×˜×™×•×ª ××œ××”

### ×—×¡×¨×•× ×•×ª
âŒ ×”××—×©×‘ ×¦×¨×™×š ×œ×”×™×•×ª ×“×œ×•×§ ×ª××™×“
âŒ ××ª×” ××—×¨××™ ×¢×œ ×’×™×‘×•×™×™×
âŒ ×¦×¨×™×š ×™×“×¢ ×˜×›× ×™

---

## ğŸ¢ ××¤×©×¨×•×ª 3: Multi-Tenant (×œ××•×¦×¨ ××¡×—×¨×™)

### ××” ×–×”?
×©×¨×ª ××—×“ ××©×•×ª×£ ×œ×›×œ ×”×’×"×—×™×, ×›×œ ××—×“ ×¢× ×”× ×ª×•× ×™× ×©×œ×•.

### ××¨×›×™×˜×§×˜×•×¨×”
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Frontend (React)            â”‚
â”‚  gemach-system.com                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Backend API                 â”‚
â”‚  api.gemach-system.com              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      PostgreSQL Database            â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Gemach 1     â”‚ â”‚ Gemach 2     â”‚ â”‚
â”‚  â”‚ - Borrowers  â”‚ â”‚ - Borrowers  â”‚ â”‚
â”‚  â”‚ - Loans      â”‚ â”‚ - Loans      â”‚ â”‚
â”‚  â”‚ - Users      â”‚ â”‚ - Users      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ×©×™× ×•×™×™× × ×“×¨×©×™× ×‘×¡×›××”
```prisma
// ×”×•×¡×¤×ª Organization
model Organization {
  id          Int      @id @default(autoincrement())
  name        String
  subdomain   String   @unique // gemach1.gemach-system.com
  isActive    Boolean  @default(true)
  plan        String   @default("free") // 'free' | 'basic' | 'premium'
  
  users       User[]
  borrowers   Borrower[]
  loans       Loan[]
  // ... ×›×œ ×”×©××¨
  
  createdAt   DateTime @default(now())
}

model User {
  id              Int      @id @default(autoincrement())
  organizationId  Int
  organization    Organization @relation(fields: [organizationId], references: [id])
  
  username        String
  password        String
  role            String   @default("user")
  
  @@unique([organizationId, username])
}

// ×›×œ ×˜×‘×œ×” ××§×‘×œ×ª organizationId
model Borrower {
  id              Int      @id @default(autoincrement())
  organizationId  Int
  organization    Organization @relation(fields: [organizationId], references: [id])
  
  // ... ×©××¨ ×”×©×“×•×ª
}
```

### ×¢×œ×•×ª
- **×©×¨×ª:** AWS/DigitalOcean ~â‚ª200-500/×—×•×“×©
- **××¡×“ × ×ª×•× ×™×:** ~â‚ª100-300/×—×•×“×©
- **×¡×”"×š:** â‚ª300-800/×—×•×“×©

### ×™×ª×¨×•× ×•×ª
âœ… ××•×¦×¨ ××¡×—×¨×™ ××•×›×Ÿ
âœ… ×§×œ ×œ× ×”×œ ×¢×“×›×•× ×™×
âœ… ×¢×œ×•×ª ××©×•×ª×¤×ª

### ×—×¡×¨×•× ×•×ª
âŒ ××•×¨×›×‘ ×œ×¤×ª×—
âŒ ×¦×¨×™×š ××¢×¨×›×ª ×ª×©×œ×•××™×
âŒ ××—×¨×™×•×ª ×’×‘×•×”×”

---

## ğŸ¤” ××– ××” ×œ×‘×—×•×¨?

### ×œ××ª×—×™×œ×™× / ×’×"×— ××—×“:
**â†’ ××¤×©×¨×•×ª 1 (Supabase + Railway)**
- ×”×›×™ ×¤×©×•×˜
- ×–×•×œ
- ××§×¦×•×¢×™

### ×× ×™×© ×œ×š ×™×“×¢ ×˜×›× ×™:
**â†’ ××¤×©×¨×•×ª 2 (××—×©×‘ ×‘×™×ª×™)**
- ×—×™× ×
- ×©×œ×™×˜×” ××œ××”

### ×× ×¨×•×¦×” ×œ××›×•×¨:
**â†’ ××¤×©×¨×•×ª 3 (Multi-Tenant)**
- ×¦×¨×™×š ×œ×¤×ª×— ×¢×•×“
- ××‘×œ ×©×•×•×” ×œ×˜×•×•×— ××¨×•×š

---

## ğŸ‘¥ × ×™×”×•×œ ××©×ª××©×™×

×‘×›×œ ×”××¤×©×¨×•×™×•×ª, ×›×œ ×’×"×— ×™×›×•×œ ×œ×”×•×¡×™×£ ××©×ª××©×™×:

### ×ª×¤×§×™×“×™× (Roles):
- **admin** - ×× ×”×œ ××œ× (×”×•×¡×¤×”, ×¢×¨×™×›×”, ××—×™×§×”, ×”×’×“×¨×•×ª)
- **user** - ××©×ª××© ×¨×’×™×œ (×”×•×¡×¤×”, ×¢×¨×™×›×”, ×¦×¤×™×™×”)
- **viewer** - ×¦×¤×™×™×” ×‘×œ×‘×“ (×“×•×—×•×ª, ×¡×˜×˜×™×¡×˜×™×§×•×ª)

### ×“×•×’××”:
```
×’×"×— "× ×¨ ×©×¨×”":
â”œâ”€â”€ ××©×” ×›×”×Ÿ (admin)
â”œâ”€â”€ ×“×•×“ ×œ×•×™ (user)
â””â”€â”€ ×©×¨×” ××‘×¨×”× (viewer)
```

×›×œ ××©×ª××© ××ª×—×‘×¨ ×¢× username + password ××©×œ×•.

---

## ğŸ“ ×”××œ×¦×” ×©×œ×™

**×”×ª×—×œ ×¢× ××¤×©×¨×•×ª 1 (Supabase + Railway):**

1. ×¤×©×•×˜ ×œ×”×§×™× (20 ×“×§×•×ª)
2. ×–×•×œ (×—×™× × ×œ×”×ª×—×œ×”)
3. ××§×¦×•×¢×™
4. ××¤×©×¨ ×ª××™×“ ×œ×¢×‘×•×¨ ×œ××¤×©×¨×•×ª ××—×¨×ª

**××—×¨ ×›×š, ×× ×¦×¨×™×š:**
- ×¢×‘×•×¨ ×œ××—×©×‘ ×‘×™×ª×™ (××¤×©×¨×•×ª 2) ×× ×¨×•×¦×” ×œ×—×¡×•×š
- ×¢×‘×•×¨ ×œ-Multi-Tenant (××¤×©×¨×•×ª 3) ×× ×¨×•×¦×” ×œ××›×•×¨

---

×¨×•×¦×” ×©××›×™×Ÿ ×œ×š ×”×•×¨××•×ª ×”×ª×§× ×” ××¤×•×¨×˜×•×ª ×œ××¤×©×¨×•×ª 1?
