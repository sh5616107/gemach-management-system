# 🏗️ הוראות בניית קובץ EXE למערכת ניהול גמ"ח

## 🆕 גרסה 2.3.0 - מוכנה לבנייה!

**השינויים החדשים כוללים:**
- פרעון אוטומטי מתקדם עם תאריך התחלה גמיש ותדירות מותאמת
- הלוואות עתידיות עם סימון ויזואלי
- ולידציה מתקדמת למספר זהות ישראלי
- דוח לווה משופר ומפורט
- תיקוני באגים רבים ושיפור יציבות המערכת

**זכור לעדכן את מספר הגרסה לפני הבנייה!**

## דרישות מוקדמות

### התקנת Node.js
1. הורד והתקן Node.js מ: https://nodejs.org/
2. בחר בגרסה LTS (מומלצת)
3. וודא שההתקנה הצליחה:
   ```bash
   node --version
   npm --version
   ```

### התקנת כלי הבנייה
```bash
npm install -g electron-builder
```

## שלבי הבנייה

### ⚠️ חשוב - עדכון מספר גרסה
**לפני בניית גרסה חדשה, חובה לעדכן את מספר הגרסה!**

1. **עדכן את `package-electron.json`:**
   ```json
   {
     "version": "2.2.0"  // עדכן למספר הגרסה החדש
   }
   ```

2. **עדכן את `README.md`:**
   - חפש "גרסה נוכחית" ועדכן למספר החדש
   - הוסף תיאור של השינויים החדשים

3. **תעד את השינויים:**
   - רשום את כל התכונות החדשות
   - רשום את התיקונים שבוצעו
   - עדכן את רשימת השאלות הנפוצות

### 1. הכנת הפרויקט
```bash
# התקנת תלויות הפרויקט הרגיל
npm install

# בניית גרסת הפקה של האפליקציה
npm run build
```

### 2. הכנה לאלקטרון
```bash
# העתקת קבצי האלקטרון
copy package-electron.json package.json
copy electron.js ./

# התקנת תלויות אלקטרון
npm install
```

### 3. יצירת אייקונים (אופציונלי)
- הכנס קובץ אייקון בשם `icon.png` (512x512 פיקסלים) לתיקיית `assets/`
- עבור Windows: המר ל-`icon.ico`
- עבור Mac: המר ל-`icon.icns`

### 4. בניית קובץ EXE
```bash
# בניית EXE עבור Windows
npm run dist

# או בניה מהירה לבדיקה
npm run pack
```

### 5. מיקום הקבצים
הקבצים ייווצרו בתיקייה: `dist-electron/`
- `מערכת ניהול גמ"ח Setup.exe` - קובץ ההתקנה
- `win-unpacked/` - גרסה לא ארוזה לבדיקה

## הגדרות מתקדמות

### שינוי הגדרות הבנייה
ערוך את קובץ `package.json` בחלק `build`:

```json
{
  "build": {
    "appId": "com.gemach.management",
    "productName": "מערכת ניהול גמ\"ח",
    "win": {
      "target": "nsis",
      "icon": "assets/icon.ico"
    }
  }
}
```

### הוספת חתימה דיגיטלית (אופציונלי)
```json
{
  "build": {
    "win": {
      "certificateFile": "path/to/certificate.p12",
      "certificatePassword": "password"
    }
  }
}
```

## פתרון בעיות נפוצות

### שגיאת "electron-builder not found"
```bash
npm install -g electron-builder
```

### שגיאת "Python not found"
```bash
npm install -g windows-build-tools
```

### בעיות עם אייקונים
- וודא שהאייקון בגודל 512x512 פיקסלים
- השתמש בכלים מקוונים להמרה ל-ICO

### שגיאות בנייה
```bash
# נקה cache ונסה שוב
npm run clean
npm install
npm run build
npm run dist
```

## בדיקת האפליקציה

### הרצה במצב פיתוח
```bash
npm run electron-dev
```

### בדיקת הגרסה הסופית
1. התקן את קובץ ה-EXE שנוצר
2. הפעל את האפליקציה
3. בדוק שכל התכונות עובדות

## הפצה

### קובץ ההתקנה
- `מערכת ניהול גמ"ח Setup.exe` - מוכן להפצה
- גודל: בערך 150-200 MB
- תומך ב-Windows 7/8/10/11

### דרישות מערכת
- Windows 7 ומעלה
- 4GB RAM מומלץ
- 500MB שטח פנוי
- רזולוציה מינימלית: 1024x768

## אבטחה

### הגנות מובנות
- חסימת ניווט לאתרים חיצוניים
- הגבלת גישה לקבצי מערכת
- אחסון מקומי בלבד

### המלצות
- הפץ רק דרך ערוצים מהימנים
- בדוק עם אנטי-וירוס לפני הפצה
- ספק הוראות התקנה ברורות

## תמיכה

### לוגים ובדיקות
- לוגים נמצאים ב: `%APPDATA%/מערכת ניהול גמ"ח/logs/`
- הגדרות נשמרות ב: `%APPDATA%/מערכת ניהול גמ"ח/`

### עדכונים עתידיים
- בנה גרסה חדשה עם מספר גרסה מעודכן
- המשתמשים יצטרכו להתקין מחדש

## 📋 רשימת שינויים לגרסה 2.3.0

### תכונות חדשות:
- ✅ **פרעון אוטומטי מתקדם** - תאריך התחלה גמיש ותדירות מותאמת
- ✅ **הלוואות עתידיות** - אפשרות לתכנן הלוואות מראש
- ✅ **ולידציה למספר זהות** - בדיקת תקינות מספר זהות ישראלי
- ✅ **הגדרות גמישות למספר זהות** - חובה או אופציונלי
- ✅ **דוח לווה משופר** - תצוגה מפורטת יותר
- ✅ **סימון ויזואלי להלוואות עתידיות** - תצוגה ברורה במערכת

### תיקוני באגים:
- 🔧 **תיקון בעיית הוספת הלוואה** - פתרון בעיה קריטית
- 🔧 **שיפור יציבות המערכת** - תיקון קריסות
- 🔧 **תיקון בעיות תצוגה** - שיפור התצוגה
- 🔧 **שיפור ביצועים** - מערכת מהירה יותר
- 🔧 **תיקון בעיות הדפסה** - איכות הדפסה טובה יותר
- 🔧 **תיקון בעיות שמירה** - מניעת אובדן נתונים

### שיפורים נוספים:
- 📈 **שיפור הודעות למשתמש** - הודעות ברורות יותר
- 📈 **שיפור ממשק המשתמש** - חוויית שימוש טובה יותר
- 📈 **אופטימיזציה של הקוד** - ביצועים משופרים

---

**בהצלחה בבניית המערכת! 🎉**