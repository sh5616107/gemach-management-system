# מדריך הפקדות מחזוריות אוטומטיות 🔄

## מה זה?

הפקדות מחזוריות מאפשרות למפקיד להפקיד סכום קבוע כל חודש באופן אוטומטי, בלי צורך ליצור הפקדה חדשה ידנית כל פעם.

## איך זה עובד?

### 1. יצירת הפקדה מחזורית

כשיוצרים מפקיד חדש או מוסיפים הפקדה חדשה, יש אפשרות לסמן:
- ✅ **הפקדה מחזורית (אוטומטית כל חודש)**

אז צריך למלא:
- **יום בחודש להפקדה** (1-31) - למשל: 1 = תחילת חודש, 15 = אמצע חודש
- **למשך כמה חודשים** - למשל: 12 = שנה, 24 = שנתיים

### 2. יצירה אוטומטית

המערכת תיצור אוטומטית הפקדה חדשה:
- **מתי?** בכל פעם שנכנסים למערכת והגיע הזמן
- **כמה?** אותו סכום כמו ההפקדה המקורית
- **עד מתי?** עד שמסתיים מספר החודשים שהוגדר

### 3. דוגמה

נניח שיצרת הפקדה מחזורית:
- סכום: 1,000 ש"ח
- יום בחודש: 5
- למשך: 12 חודשים
- תאריך התחלה: 01/01/2025

**מה יקרה:**
```
05/01/2025 - הפקדה ראשונה (ידנית)
05/02/2025 - הפקדה אוטומטית #1
05/03/2025 - הפקדה אוטומטית #2
05/04/2025 - הפקדה אוטומטית #3
...
05/12/2025 - הפקדה אוטומטית #11
```

סה"כ: 12 הפקדות של 1,000 ש"ח = 12,000 ש"ח

## זיהוי הפקדות מחזוריות

הפקדות מחזוריות מסומנות עם:
- 🔄 **תג "מחזורית"** בכרטיס ההפקדה
- תאריך סיום (אם הוגדר)
- הערה אוטומטית: "הפקדה מחזורית אוטומטית (מקור: הפקדה #X)"

## שאלות נפוצות

### מתי נוצרות ההפקדות?
בכל פעם שנכנסים למערכת (טוענים את דף ההפקדות), המערכת בודקת אם יש הפקדות מחזוריות שצריך ליצור.

### מה קורה אם לא נכנסתי כמה חודשים?
המערכת תיצור את כל ההפקדות שהחסירו בבת אחת.

### איך עוצרים הפקדה מחזורית?
אפשר למחוק את ההפקדה המקורית (זו שמסומנת כמחזורית), או פשוט לחכות שתסתיים לפי מספר החודשים שהוגדר.

### האם אפשר לשנות סכום באמצע?
לא, כל הפקדה מחזורית יוצרת הפקדות עם אותו סכום. אם רוצים לשנות, צריך ליצור הפקדה מחזורית חדשה.

### מה קורה ביום 31 בחודש שיש רק 30 ימים?
המערכת חכמה - היא תיצור את ההפקדה ביום האחרון של החודש (30 או 28/29 בפברואר).

## יתרונות

✅ **חוסך זמן** - לא צריך ליצור הפקדה חדשה כל חודש  
✅ **אוטומטי לחלוטין** - המערכת עושה הכל בשבילך  
✅ **מעקב קל** - כל הפקדה נרשמת בנפרד עם תאריך מדויק  
✅ **גמיש** - אפשר להגדיר כל יום בחודש וכל תקופה  
✅ **שקוף** - רואים בדיוק מתי נוצרה כל הפקדה  

## טיפים

💡 **למפקידים קבועים** - השתמש בהפקדות מחזוריות כדי לחסוך זמן  
💡 **לתכנון ארוך טווח** - הגדר 24-36 חודשים מראש  
💡 **לבדיקה** - צור הפקדה מחזורית קצרה (3 חודשים) כדי לראות איך זה עובד  
💡 **לדוח מפורט** - השתמש בכפתור "דוח מפורט" כדי לראות את כל ההפקדות בסדר כרונולוגי  

---

**הערה טכנית למפתחים:**  
הפונקציה `processRecurringDeposits()` רצה אוטומטית בכל טעינה של מסד הנתונים (בקונסטרקטור).
