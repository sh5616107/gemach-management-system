# 🏛️ מערכת ניהול גמ"ח - מדריך שימוש מלא

מערכת ניהול מתקדמת לגמילות חסדים הכוללת ניהול הלוואות, פקדונות ותרומות עם ממשק בעברית וכלים מתקדמים.

## 📥 הורדה והתקנה

### 💻 הורדת קובץ EXE (מומלץ)
[![הורד את הגרסה האחרונה](https://img.shields.io/github/v/release/sh5616107/gemach-management-system?label=הורד%20גרסה&style=for-the-badge&color=blue)](https://github.com/sh5616107/gemach-management-system/releases/latest)

**🆕 גרסה 2.2 זמינה עכשיו!** עם הלוואות עתידיות, ולידציה למספר זהות ותיקוני באגים רבים.

**לחץ על הקישור למעלה או:**
1. לך ל-[עמוד השחרורים](https://github.com/sh5616107/gemach-management-system/releases)
2. הורד את קובץ ה-Setup.exe מהגרסה האחרונה (2.2.0)
3. הפעל את הקובץ והתקן
4. פתח את האפליקציה מתפריט התחל

**⚠️ הערה לגרסאות קודמות:** אם יש לך גרסה קודמת מותקנת, המערכת תעדכן אוטומטית ותשמור את כל הנתונים שלך.

### ⚠️ הערה חשובה
**המערכת מיועדת לשימוש אישי בלבד!** כל משתמש צריך להתקין את התוכנה במחשב שלו. הנתונים נשמרים מקומית ולא משותפים בין משתמשים שונים.

---

## 🚀 התחלה מהירה

### התקנה ראשונית
1. **הורד והתקן** את קובץ ה-EXE מעמוד ה-Releases
2. **הפעל את המערכת** - תיפתח בדפדפן אוטומטית
3. **התחל להזין נתונים** - המערכת מתחילה ריקה

### 🔒 אבטחת נתונים
- **הנתונים נשמרים מקומית** במחשב שלך בלבד
- **אין שליחת מידע לאינטרנט** - הכל פרטי ומאובטח
- **כל משתמש עובד עם הנתונים שלו** - אין שיתוף בין משתמשים
- **מומלץ לגבות נתונים** באופן קבוע (ייצוא נתונים בהגדרות)

### הגדרה ראשונית
1. **עבור להגדרות** (⚙️) → הגדרות כלליות
2. **הגדר שם הגמ"ח** - יופיע בכל המסמכים
3. **הגדר כותרת וטקסטים** - התאמה אישית
4. **בחר ערכת נושא** - בהיר/כהה/מותאם אישית
5. **הפעל פונקציות מתקדמות** (אופציונלי):
   - הלוואות מחזוריות - למשתמשים שנותנים הלוואות קבועות
   - פרעונות מחזוריים - למשתמשים עם פרעונות חודשיים קבועים

---

## � מהדריך שימוש מפורט

### 🏠 דף הבית - מרכז הבקרה

#### מה תראה:
- **סטטיסטיקות כלליות** - מספר הלוואות, פקדונות ותרומות
- **יתרה כוללת** - מצב הגמ"ח הכספי (ירוק=חיובי, אדום=גרעון)
- **טבלת לווים פעילים** - כל לווה עם יתרת החוב שלו
- **התראות איחור** - הלוואות שעברו את המועד

#### פעולות זמינות:
- **לחיצה על "פרטים"** → עובר לכרטיס הלווה
- **לחיצה על "⚠️ דחוף"** → עובר להלוואה באיחור
- **עריכת שם הגמ"ח** → לחיצה על השם
- **עריכת כותרת** → לחיצה על הכותרת

---

### 💰 ניהול הלוואות - המודול המרכזי

#### רישום לווה חדש:
1. **לחץ על "ניהול הלוואות"** בתפריט
2. **מלא פרטי הלווה:**
   - שם פרטי ומשפחה (חובה)
   - **מספר זהות** - תלוי בהגדרות (חובה/אופציונלי)
     - המערכת בודקת תקינות מספר זהות ישראלי
     - מציגה הודעה אם המספר לא תקין
     - ניתן להגדיר בהגדרות אם זה שדה חובה
   - עיר מגורים
   - טלפון
   - כתובת מלאה
   - מייל
   - הערות נוספות
3. **לחץ "שמור לווה"**

#### מתן הלוואה:
1. **בחר לווה מהרשימה** או צור חדש
2. **מלא פרטי ההלוואה:**
   - סכום ההלוואה (חובה)
   - תאריך מתן ההלוואה
   - תקופת ההלוואה (בחודשים)
   - **הלוואות עתידיות** 🆕 - ניתן להגדיר הלוואה לתאריך עתידי
     - המערכת תציג סימון מיוחד להלוואות עתידיות
     - תוצג הודעה כמה ימים נותרו עד ההלוואה
   - הערות
   - ערבים (ערב ראשון ושני)
3. **פונקציות מתקדמות** (אם הופעלו בהגדרות):
   - **הלוואה מחזורית** - הלוואה שחוזרת כל חודש
   - **יום בחודש להלוואה** - מתי לתת הלוואה חוזרת
   - **פרעון אוטומטי** - פרעון חודשי קבוע
   - **סכום פרעון חודשי** - כמה לפרוע כל חודש
4. **לחץ "תן הלוואה"**
5. **הדפס שטר חוב** (אופציונלי) או **שמור כ-PDF** (ב-Electron)

#### רישום פרעון:
1. **בחר הלוואה מהטבלה**
2. **הזן סכום הפרעון**
3. **בחר תאריך הפרעון**
4. **הוסף הערות** (אופציונלי)
5. **לחץ "רשום פרעון"**

#### עריכת הלוואות:
- **לחץ "✏️ ערוך"** בשורת ההלוואה
- **ערוך את הפרטים** הנדרשים
- **לחץ "עדכן הלוואה"**

#### מחיקת הלוואות:
- **לחץ "🗑️ מחק"** בשורת ההלוואה
- **אשר את המחיקה**

#### דוח לווה מפורט 🆕:
1. **לחץ על "📊 דוח"** בכרטיס הלווה
2. **הדוח כולל:**
   - פרטי הלווה המלאים
   - סיכום כל ההלוואות (פעילות וסגורות)
   - היסטוריית פרעונות מפורטת
   - חישוב יתרות מדויק
   - סטטיסטיקות כלליות
   - תצוגה ברורה ומסודרת
3. **ניתן להדפיס את הדוח** או לשמור כ-PDF

---

### 🏦 ניהול פקדונות

#### רישום פקדון חדש:
1. **לחץ על "ניהול פקדונות"**
2. **מלא פרטי המפקיד:**
   - שם המפקיד (חובה)
   - סכום ההפקדה (חובה)
   - תאריך הפקדה
   - תקופת הפקדה (בחודשים)
   - טלפון
   - הערות
3. **לחץ "הוסף פקדון"**

#### רישום משיכה:
1. **לחץ "משיכה"** בשורת הפקדון פעיל
2. **הזן סכום המשיכה**
3. **אשר את הפעולה**

#### עריכת פקדונות:
- **לחץ "✏️ ערוך"** בשורת הפקדון
- **ערוך גם את סכום המשיכות** אם נדרש
- **לחץ "עדכן הפקדה"**

#### מחיקת פקדונות:
- **לחץ "🗑️ מחק"** בשורת הפקדון
- **אשר את המחיקה**

---

### 🎁 ניהול תרומות

#### רישום תרומה:
1. **לחץ על "ניהול תרומות"**
2. **מלא פרטי התורם:**
   - שם התורם (חובה)
   - שם משפחה
   - סכום התרומה (חובה)
   - תאריך התרומה
   - אופן התרומה (מזומן/העברה/צ'ק/אחר)
   - טלפון
   - כתובת
   - האם נדרשת קבלה
   - הערות
3. **לחץ "רשום תרומה"**

#### הדפסת קבלה:
- **לחץ "📄 קבלה"** בשורת התרומה
- **הקבלה תודפס אוטומטית**

#### עריכת תרומות:
- **לחץ "✏️ ערוך"** בשורת התרומה
- **ערוך את הפרטים** הנדרשים
- **לחץ "עדכן תרומה"**

#### מחיקת תרומות:
- **לחץ "🗑️ מחק"** בשורת התרומה
- **אשר את המחיקה**

---

### ⚙️ הגדרות מתקדמות

#### הגדרות כלליות:
- **שם הגמ"ח** - יופיע בכל המסמכים
- **מטבע** - ₪ או $
- **תקופת הלוואה ברירת מחדל**
- **הצגת התראות איחור**
- **מספר זהות חובה** 🆕 - קובע אם מספר זהות הוא שדה חובה או אופציונלי
  - כאשר מופעל - חובה למלא מספר זהות תקין
  - כאשר כבוי - מספר זהות אופציונלי
  - המערכת תמיד בודקת תקינות אם מוזן מספר

#### פונקציות מתקדמות (חדש! 🆕):
- **הלוואות מחזוריות** - הלוואות שחוזרות על עצמן באופן אוטומטי
  - כבוי כברירת מחדל
  - ניתן להפעיל בהגדרות → פונקציות מתקדמות
  - מאפשר הגדרת יום בחודש להלוואה חוזרת
- **פרעונות מחזוריים** - פרעונות קבועים שחוזרים על עצמם (🆕 משופר!)
  - כבוי כברירת מחדל
  - ניתן להפעיל בהגדרות → פונקציות מתקדמות
  - **🆕 תאריך התחלה גמיש** - פרעון יכול להתחיל בעוד מספר חודשים
  - **🆕 תדירות מותאמת** - כל חודש, חודשיים, 3 חודשים או 6 חודשים
  - מאפשר הגדרת סכום פרעון ויום בחודש

#### הגדרות תצוגה:
- **ערכת נושא:**
  - בהיר (ברירת מחדל)
  - כהה
  - מותאם אישית (בחירת צבע רקע)
- **כותרת עליונה** - טקסט מותאם
- **טקסט תחתון** - מידע על הגמ"ח
- **טקסט יצירת קשר** - פרטי התקשרות

#### הגדרות הדפסה (חדש! 🆕):
- **הדפסה משופרת ב-Electron** - פתרון בעיית "יצוא לפני הדפסה" של Windows
- **שמירת PDF** - אפשרות לשמור שטרים כקובצי PDF (זמין רק ב-Electron)
- **תצוגה מקדימה** - בדפדפנים רגילים מוצגת תצוגה מקדימה עם כפתורי הדפסה

#### ייבוא וייצוא:
- **ייצוא נתונים** → שמירת גיבוי (JSON)
- **ייבוא נתונים** → שחזור מגיבוי
- **איפוס מערכת** → מחיקת כל הנתונים

---

## 🔧 טיפים ועצות

### ניהול יעיל:
1. **עדכן נתונים באופן שוטף** - הזן פרעונות מיד כשמתקבלים
2. **בדוק התראות איחור** - בדף הבית יופיעו הלוואות באיחור
3. **גבה נתונים בקביעות** - ייצא את הנתונים מדי פעם
4. **השתמש בהערות** - הוסף מידע חשוב בשדה ההערות

### פתרון בעיות נפוצות:
- **הנתונים נעלמו?** → ייבא מגיבוי אחרון (הגדרות → ייבוא נתונים)
- **המערכת איטית?** → נקה את זיכרון הדפדפן או סגור ופתח מחדש
- **שגיאה בהדפסה?** → השתמש בגרסת Electron או בדוק הגדרות הדפדפן
- **בעיה בתצוגה?** → רענן את הדף (F5) או סגור ופתח מחדש

### אבטחת מידע:
- **הנתונים נשמרים מקומית** בדפדפן
- **אין שליחת מידע לאינטרנט**
- **גבה נתונים חשובים** במקום בטוח
- **השתמש במחשב מאובטח**

---

## 📊 הבנת הנתונים

### חישוב היתרה:
```
יתרה = תרומות + הפקדות פעילות - הלוואות שניתנו
```

### צבעי סטטוס:
- **ירוק** - מצב חיובי, יתרה טובה
- **אדום** - גרעון, יש יותר התחייבויות מכסף
- **כתום** - הלוואות באיחור

### סוגי מסמכים:
- **שטר חוב** - מסמך רשמי להלוואה
- **שטר פקדון** - מסמך רשמי לפקדון  
- **קבלה על תרומה** - לצורכי מס

---

## 🆘 תמיכה ועזרה

### בעיות טכניות:
1. **רענן את הדף** - Ctrl+F5
2. **נקה זיכרון דפדפן** - הגדרות → פרטיות
3. **נסה דפדפן אחר** - Chrome, Firefox, Edge
4. **בדוק עדכוני מערכת**

### שאלות נפוצות:
- **איך מוחקים לווה?** → מחק את כל ההלוואות שלו קודם
- **איך משנים סכום הלוואה?** → ערוך את ההלוואה
- **איך מדפיסים דוח?** → השתמש בפונקציית הדפסה של הדפדפן
- **איך מעבירים למחשב אחר?** → ייצא נתונים ויבא במחשב החדש
- **לא רואה פונקציות מתקדמות?** → עבור להגדרות והפעל "פונקציות מתקדמות"
- **בעיה בהדפסה ב-Windows?** → השתמש בגרסת Electron עם ההדפסה המשופרת
- **מספר זהות לא מתקבל?** → בדוק שהמספר תקין (9 ספרות עם ספרת ביקורת נכונה)
- **לא יכול להוסיף הלוואה?** → וודא שבחרת לווה ומילאת סכום
- **הלוואה עתידית לא מופיעה?** → היא תופיע עם סימון מיוחד ברשימת ההלוואות
- **איך לראות דוח מפורט של לווה?** → לחץ על "📊 דוח" בכרטיס הלווה

---

## 🔄 עדכונים וגרסאות

המערכת מתעדכנת באופן עצמאי. תכונות חדשות יתווספו בעדכונים עתידיים.

### מה חדש בגרסה 2.3:

#### 🆕 תכונות חדשות:
- **פרעון אוטומטי מתקדם** - שיפור משמעותי בגמישות הפרעונות
  - תאריך התחלת פרעון גמיש - אפשרות להתחיל פרעון בעוד מספר חודשים
  - תדירות פרעון מותאמת - כל חודש/חודשיים/3 חודשים/6 חודשים
  - חישוב אוטומטי של תאריכי פרעון עתידיים
  - הצגה מפורטת של לוח הפרעונות בשטרים ובממשק

#### 🔧 שיפורים:
- **ולידציה משופרת** - בדיקה שתאריך תחילת פרעון לא קודם לתאריך ההלוואה
- **ממשק משתמש משופר** - הצגה ברורה יותר של מידע הפרעון
- **מדריך שימוש מעודכן** - הסבר מפורט על התכונות החדשות עם דוגמאות

### מה היה חדש בגרסה 2.2:

#### 🆕 תכונות חדשות:
- **הלוואות עתידיות** - אפשרות לתכנן הלוואות מראש
  - סימון ויזואלי מיוחד להלוואות עתידיות
  - הצגת מספר הימים עד ההלוואה
  - ניהול נוח של הלוואות מתוכננות

- **ולידציה מתקדמת למספר זהות**
  - בדיקת תקינות מספר זהות ישראלי
  - הצגת הודעות ברורות על תקינות המספר
  - תמיכה בפורמטים שונים (עם/בלי מקפים ורווחים)

- **הגדרות גמישות למספר זהות**
  - אפשרות להגדיר מספר זהות כחובה או אופציונלי
  - התאמה לצרכים שונים של גמ"חים
  - שמירה על גמישות בשימוש

- **דוח לווה משופר**
  - תצוגה מפורטת יותר של כל פעילות הלווה
  - סיכום ברור של הלוואות ופרעונות
  - עיצוב משופר וקריא יותר

#### 🔧 תיקוני באגים:
- **תיקון בעיית הוספת הלוואה** - פתרון בעיה שמנעה הוספת הלוואות חדשות
- **שיפור יציבות המערכת** - תיקון קריסות ושגיאות נדירות
- **תיקון בעיות תצוגה** - שיפור התצוגה במסכים שונים
- **שיפור ביצועים** - המערכת עובדת מהר יותר
- **תיקון בעיות הדפסה** - שיפור איכות ההדפסה
- **תיקון בעיות שמירה** - מניעת אובדן נתונים
- **שיפור הודעות שגיאה** - הודעות ברורות יותר למשתמש

### גרסה נוכחית: 2.3
- ✅ ניהול הלוואות מתקדם
- ✅ ניהול פקדונות ותרומות  
- ✅ ערכות נושא מותאמות
- ✅ ייבוא/ייצוא נתונים
- ✅ הדפסת מסמכים משופרת
- ✅ מעקב איחורים
- ✅ עריכה ומחיקה של רשומות
- ✅ **פונקציות מתקדמות אופציונליות** - הלוואות ופרעונות מחזוריים
- ✅ **הדפסה משופרת ב-Electron** - פתרון בעיית Windows
- ✅ **שמירת PDF** - שמירת שטרים כקובצי PDF
- ✅ **ממשק מותאם למשתמש** - הצגת פונקציות לפי הצורך
- 🆕 **הלוואות עתידיות** - תכנון הלוואות מראש עם תצוגה מיוחדת
- 🆕 **ולידציה מתקדמת למספר זהות** - בדיקת תקינות מספר זהות ישראלי
- 🆕 **הגדרות גמישות למספר זהות** - חובה או אופציונלי לפי בחירה
- 🆕 **דוח לווה משופר** - תצוגה מפורטת יותר של פעילות הלווה
- 🆕 **תיקוני באגים רבים** - שיפור יציבות ותקינות המערכת
- 🆕 **פרעון אוטומטי מתקדם** - תאריך התחלה גמיש ותדירות מותאמת אישית

---

## 📞 יצירת קשר

למידע נוסף או תמיכה טכנית, פנה למפתח המערכת.

**בהצלחה בניהול הגמ"ח! 🎉**

---

## 🛠️ מידע טכני למפתחים

### טכנולוגיות:
- **React 18** + **TypeScript** + **Vite**
- **React Router** לניווט
- **LocalStorage** לאחסון נתונים
- **CSS3** עם תמיכה ב-RTL

### מבנה הפרויקט:
```
src/
├── pages/              # דפי האפליקציה
│   ├── HomePage.tsx    # דף הבית
│   ├── LoansPage.tsx   # ניהול הלוואות
│   ├── DepositsPage.tsx # ניהול פקדונות
│   ├── DonationsPage.tsx # ניהול תרומות
│   └── SettingsPage.tsx # הגדרות
├── database/           # ניהול נתונים
│   └── database.ts     # מחלקת מסד הנתונים
└── index.css          # עיצוב כללי
```

### הרצה מקומית:
```bash
npm install
npm run dev
```

### בניית גרסת הפקה:
```bash
npm run build
```

---

**פותח עבור קהילת הגמ"חים בישראל 🇮🇱**