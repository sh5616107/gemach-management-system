# דרישות מערכת ניהול ערבים

## מבוא

מערכת ניהול ערבים נועדה לשפר את הבקרה והמעקב אחר ערבים בגמ"ח. המערכת תאפשר ניהול מקצועי של פרטי ערבים, מעקב אחר היסטוריית ערבויות, ושליטה ברמת הסיכון באמצעות רשימה שחורה ומכתבי התראה.

## מילון מונחים

- **Guarantor_System**: מערכת ניהול הערבים
- **Guarantor_Record**: רשומת ערב במערכת
- **Blacklist_System**: מערכת הרשימה השחורה
- **Warning_Letter**: מכתב התראה
- **Loan_System**: מערכת ההלוואות הקיימת
- **Borrower_System**: מערכת הלווים הקיימת

## דרישות

### דרישה 1: ניהול פרטי ערבים

**User Story:** כמנהל גמ"ח, אני רוצה לנהל רשימה מרכזית של ערבים עם פרטיהם המלאים, כדי שאוכל לעקוב אחר כל הערבים ולוודא שיש לי את המידע הנדרש ליצירת קשר.

#### קריטריוני קבלה

1. THE Guarantor_System SHALL אפשר הוספת ערב חדש עם שדות חובה ואופציונליים
2. WHEN מוסיפים ערב חדש, THE Guarantor_System SHALL לדרוש שם מלא ומספר טלפון כשדות חובה
3. WHERE מספר זהות מופעל בהגדרות, THE Guarantor_System SHALL לדרוש מספר זהות תקין וייחודי
4. THE Guarantor_System SHALL לאפשר עריכת פרטי ערב קיים
5. THE Guarantor_System SHALL לאפשר מחיקת ערב רק אם אין לו ערבויות פעילות

### דרישה 2: אינטגרציה עם מערכת ההלוואות

**User Story:** כמנהל גמ"ח, אני רוצה שבעת יצירת הלוואה חדשה אוכל לבחור ערב רק מהרשימה הרשומה במערכת, כדי לוודא שיש לי את כל הפרטים הנדרשים.

#### קריטריוני קבלה

1. WHEN יוצרים הלוואה חדשה, THE Loan_System SHALL להציג רשימה נפתחת של ערבים רשומים בלבד
2. THE Loan_System SHALL למנוע בחירת ערב שנמצא ברשימה השחורה
3. WHEN בוחרים ערב, THE Loan_System SHALL להציג את פרטי הערב המלאים לאישור
4. THE Guarantor_System SHALL לעדכן אוטומטית את מספר הערבויות הפעילות לכל ערב
5. THE Guarantor_System SHALL להציג היסטוריית ערבויות לכל ערב

### דרישה 3: מערכת רשימה שחורה

**User Story:** כמנהל גמ"ח, אני רוצה לסמן ערבים ולווים כחסומים עם סיבת החסימה, כדי למנוע הלוואות לאנשים בעייתיים ולהגן על הגמ"ח.

#### קריטריוני קבלה

1. THE Blacklist_System SHALL לאפשר הוספת ערב או לווה לרשימה השחורה עם סיבת החסימה
2. WHEN מנסים ליצור הלוואה ללווה חסום, THE Loan_System SHALL להציג אזהרה ולמנוע את ההלוואה
3. WHEN מנסים לבחור ערב חסום, THE Loan_System SHALL להציג אזהרה ולמנוע את הבחירה
4. THE Blacklist_System SHALL לאפשר הסרה מהרשימה השחורה עם הערה על הסיבה
5. THE Blacklist_System SHALL לשמור היסטוריה של כל החסימות וההסרות

### דרישה 4: מכתבי התראה

**User Story:** כמנהל גמ"ח, אני רוצה ליצור מכתבי התראה ללווים ולערבים על הלוואות שפג תוקפן, כדי לעודד החזרת ההלוואות בזמן.

#### קריטריוני קבלה

1. THE Warning_Letter SHALL לאפשר יצירת מכתב התראה ללווה בלבד
2. THE Warning_Letter SHALL לאפשר יצירת מכתב התראה לערב בלבד
3. THE Warning_Letter SHALL לאפשר יצירת מכתב התראה משותף ללווה ולערב
4. WHEN יוצרים מכתב התראה, THE Warning_Letter SHALL לכלול פרטי ההלוואה, סכומים ותאריכים
5. THE Warning_Letter SHALL לשמור תיעוד של כל המכתבים שנשלחו עם תאריכים

### דרישה 5: דוחות ומעקב

**User Story:** כמנהל גמ"ח, אני רוצה לקבל דוחות על ערבים ופעילותם, כדי לעקוב אחר רמת הסיכון ולקבל החלטות מושכלות.

#### קריטריוני קבלה

1. THE Guarantor_System SHALL להציג דוח של כל הערבים עם מספר ערבויות פעילות
2. THE Guarantor_System SHALL להציג דוח ערבים עם ערבויות שפג תוקפן
3. THE Guarantor_System SHALL לחשב סיכון כולל לכל ערב (סכום כל הערבויות)
4. THE Guarantor_System SHALL להציג התראות על ערבים עם עומס ערבויות גבוה
5. THE Guarantor_System SHALL לאפשר ייצוא דוחות לקובץ Excel או PDF

### דרישה 6: ממשק משתמש ונגישות

**User Story:** כמשתמש במערכת, אני רוצה ממשק פשוט ואינטואיטיבי לניהול ערבים, כדי שאוכל לעבוד ביעילות ובלי טעויות.

#### קריטריוני קבלה

1. THE Guarantor_System SHALL להציג טאב נפרד "ניהול ערבים" בתפריט הראשי
2. THE Guarantor_System SHALL לאפשר חיפוש ערבים לפי שם, טלפון או מספר זהות
3. THE Guarantor_System SHALL להציג סטטוס ברור לכל ערב (פעיל/חסום/בסיכון)
4. THE Guarantor_System SHALL לאפשר מיון הרשימה לפי שם, מספר ערבויות או סיכון
5. THE Guarantor_System SHALL להציג אזהרות ויזואליות ברורות לערבים בעייתיים