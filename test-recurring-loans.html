<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×‘×“×™×§×ª ×”×œ×•×•××•×ª ××—×–×•×¨×™×•×ª</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            background: #ecf0f1;
            border-radius: 8px;
        }
        .test-section h2 {
            color: #34495e;
            margin-top: 0;
        }
        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
        }
        button:hover {
            background: #2980b9;
        }
        button.danger {
            background: #e74c3c;
        }
        button.danger:hover {
            background: #c0392b;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            background: white;
            border-radius: 6px;
            border-right: 4px solid #3498db;
        }
        .success {
            border-right-color: #27ae60;
            background: #d5f4e6;
        }
        .error {
            border-right-color: #e74c3c;
            background: #fadbd8;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        th, td {
            padding: 12px;
            text-align: right;
            border-bottom: 1px solid #ddd;
        }
        th {
            background: #34495e;
            color: white;
        }
        tr:hover {
            background: #f8f9fa;
        }
        .info-box {
            background: #fff3cd;
            border: 1px solid #ffc107;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª ×›×œ×™ ×‘×“×™×§×” - ×”×œ×•×•××•×ª ××—×–×•×¨×™×•×ª</h1>
        
        <div class="info-box">
            <strong>ğŸ’¡ ×”×¡×‘×¨:</strong> ×›×œ×™ ×–×” ×××¤×©×¨ ×œ×‘×“×•×§ ××ª ×”×œ×•×’×™×§×” ×©×œ ×”×œ×•×•××•×ª ××—×–×•×¨×™×•×ª ×œ×œ× ×¦×•×¨×š ×œ×—×›×•×ª ×œ×—×•×“×© ×”×‘×.
            <br>××ª×” ×™×›×•×œ ×œ×“××•×ª ×ª××¨×™×›×™× ×¢×ª×™×“×™×™× ×•×œ×¨××•×ª ××™×œ×• ×”×œ×•×•××•×ª ×™×™×•×•×¦×¨×•.
        </div>

        <div class="test-section">
            <h2>ğŸ“… ×¡×™××•×œ×¦×™×” ×©×œ ×ª××¨×™×š ×¢×ª×™×“×™</h2>
            <p>×‘×—×¨ ×ª××¨×™×š ×¢×ª×™×“×™ ×›×“×™ ×œ×¨××•×ª ××™×œ×• ×”×œ×•×•××•×ª ××—×–×•×¨×™×•×ª ×™×™×•×•×¦×¨×•:</p>
            
            <label>×ª××¨×™×š ×œ×¡×™××•×œ×¦×™×”:</label>
            <input type="date" id="simulateDate" style="padding: 8px; margin: 10px; font-size: 16px;">
            <br>
            <button onclick="simulateFutureDate()">ğŸ”® ×”×¨×¥ ×¡×™××•×œ×¦×™×”</button>
            <button onclick="resetSimulation()" class="danger">ğŸ”„ ××¤×¡ ×¡×™××•×œ×¦×™×”</button>
            
            <div id="simulationResult"></div>
        </div>

        <div class="test-section">
            <h2>ğŸ“Š ×”×œ×•×•××•×ª ××—×–×•×¨×™×•×ª ×§×™×™××•×ª</h2>
            <button onclick="showRecurringLoans()">ğŸ“‹ ×”×¦×’ ×”×œ×•×•××•×ª ××—×–×•×¨×™×•×ª</button>
            <div id="recurringLoansResult"></div>
        </div>

        <div class="test-section">
            <h2>ğŸ§ª ×™×¦×™×¨×ª ×”×œ×•×•××” ××—×–×•×¨×™×ª ×œ×‘×“×™×§×”</h2>
            <p>×¦×•×¨ ×”×œ×•×•××” ××—×–×•×¨×™×ª ×œ×‘×“×™×§×” (×ª×™××—×§ ××•×˜×•××˜×™×ª):</p>
            
            <label>×©× ×œ×•×•×”:</label>
            <input type="text" id="testBorrowerName" value="×œ×•×•×” ×œ×‘×“×™×§×”" style="padding: 8px; margin: 5px;">
            <br>
            
            <label>×¡×›×•×:</label>
            <input type="number" id="testAmount" value="1000" style="padding: 8px; margin: 5px;">
            <br>
            
            <label>×™×•× ×‘×—×•×“×©:</label>
            <input type="number" id="testDay" value="1" min="1" max="31" style="padding: 8px; margin: 5px;">
            <br>
            
            <label>××¡×¤×¨ ×—×•×“×©×™×:</label>
            <input type="number" id="testMonths" value="12" min="1" max="60" style="padding: 8px; margin: 5px;">
            <br>
            
            <button onclick="createTestLoan()">â• ×¦×•×¨ ×”×œ×•×•××” ×œ×‘×“×™×§×”</button>
            <button onclick="deleteTestLoans()" class="danger">ğŸ—‘ï¸ ××—×§ ×”×œ×•×•××•×ª ×‘×“×™×§×”</button>
            
            <div id="testLoanResult"></div>
        </div>
    </div>

    <script>
        // ×¤×•× ×§×¦×™×” ×œ×¡×™××•×œ×¦×™×” ×©×œ ×ª××¨×™×š ×¢×ª×™×“×™
        function simulateFutureDate() {
            const dateInput = document.getElementById('simulateDate').value
            if (!dateInput) {
                alert('×× × ×‘×—×¨ ×ª××¨×™×š')
                return
            }

            const resultDiv = document.getElementById('simulationResult')
            resultDiv.innerHTML = '<p>â³ ××¨×™×¥ ×¡×™××•×œ×¦×™×”...</p>'

            // ×›××Ÿ ×ª×¦×˜×¨×š ×œ×”×•×¡×™×£ ××ª ×”×œ×•×’×™×§×” ×©××“××” ××ª ×”×ª××¨×™×š
            // ×œ×¢×ª ×¢×ª×”, ×–×” ×¨×§ ×“×•×’××”
            
            setTimeout(() => {
                resultDiv.innerHTML = `
                    <div class="result success">
                        <h3>âœ… ×¡×™××•×œ×¦×™×” ×”×•×©×œ××”</h3>
                        <p><strong>×ª××¨×™×š ××“×•××”:</strong> ${new Date(dateInput).toLocaleDateString('he-IL')}</p>
                        <p><strong>×”×œ×•×•××•×ª ×©× ×•×¦×¨×•:</strong> 3</p>
                        <table>
                            <tr>
                                <th>×œ×•×•×”</th>
                                <th>×¡×›×•×</th>
                                <th>×ª××¨×™×š</th>
                                <th>×¡×˜×˜×•×¡</th>
                            </tr>
                            <tr>
                                <td>×“×•×’××” 1</td>
                                <td>â‚ª1,000</td>
                                <td>${new Date(dateInput).toLocaleDateString('he-IL')}</td>
                                <td>âœ… × ×•×¦×¨×”</td>
                            </tr>
                        </table>
                        <p style="margin-top: 15px; color: #7f8c8d; font-size: 14px;">
                            ğŸ’¡ ×–×•×”×™ ×“×•×’××”. ×‘×’×¨×¡×” ×”×‘××” ×ª×”×™×” ××™× ×˜×’×¨×¦×™×” ××œ××” ×¢× ×”××¢×¨×›×ª.
                        </p>
                    </div>
                `
            }, 1000)
        }

        function resetSimulation() {
            document.getElementById('simulationResult').innerHTML = ''
            document.getElementById('simulateDate').value = ''
        }

        function showRecurringLoans() {
            const resultDiv = document.getElementById('recurringLoansResult')
            resultDiv.innerHTML = `
                <div class="result">
                    <h3>ğŸ“‹ ×”×œ×•×•××•×ª ××—×–×•×¨×™×•×ª ×‘××¢×¨×›×ª</h3>
                    <p>×›×“×™ ×œ×¨××•×ª ××ª ×”×”×œ×•×•××•×ª ×”××—×–×•×¨×™×•×ª ×”×××™×ª×™×•×ª, ×¤×ª×— ××ª ×”-Console (F12) ×•×”×¨×¥:</p>
                    <code style="background: #2c3e50; color: #ecf0f1; padding: 10px; display: block; border-radius: 4px; margin: 10px 0;">
                        db.getLoans().filter(l => l.isRecurring)
                    </code>
                    <p style="margin-top: 15px; color: #7f8c8d; font-size: 14px;">
                        ğŸ’¡ ×‘×’×¨×¡×” ×”×‘××” ×ª×”×™×” ××™× ×˜×’×¨×¦×™×” ××œ××” ×¢× ×”××¢×¨×›×ª.
                    </p>
                </div>
            `
        }

        function createTestLoan() {
            alert('ğŸš§ ×¤×™×¦×³×¨ ×–×” ×™×”×™×” ×–××™×Ÿ ×‘×’×¨×¡×” ×”×‘××”.\n\n×œ×¢×ª ×¢×ª×”, ×¦×•×¨ ×”×œ×•×•××” ××—×–×•×¨×™×ª ×“×¨×š ×”××¢×¨×›×ª ×”×¨×’×™×œ×”.')
        }

        function deleteTestLoans() {
            if (confirm('×”×× ×œ××—×•×§ ××ª ×›×œ ×”×œ×•×•××•×ª ×”×‘×“×™×§×”?')) {
                alert('ğŸ—‘ï¸ ×”×œ×•×•××•×ª ×‘×“×™×§×” × ××—×§×• (×“×•×’××”)')
            }
        }

        // ×”×’×“×¨ ×ª××¨×™×š ×‘×¨×™×¨×ª ××—×“×œ - ×—×•×“×© ×§×“×™××”
        window.onload = function() {
            const nextMonth = new Date()
            nextMonth.setMonth(nextMonth.getMonth() + 1)
            document.getElementById('simulateDate').value = nextMonth.toISOString().split('T')[0]
        }
    </script>
</body>
</html>
